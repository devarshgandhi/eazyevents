<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Compute my grade</title>
    <link rel="stylesheet" href="themes/Bootstrap.css">
    <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!--Declare page as mobile friendly -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0" />
    <!-- Declare page as iDevice WebApp friendly -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- iDevice WebApp Splash Screen, Regular Icon, iPhone, iPad, iPod Retina Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/splash/splash-icon.png">
    <!-- iPhone 3, 3Gs -->
    <link rel="apple-touch-startup-image" href="images/splash/splash-screen.png" media="screen and (max-device-width: 320px)" />
    <!-- iPhone 4 -->
    <link rel="apple-touch-startup-image" href="images/splash/splash-screen%402x.png" media="(max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2)" />
    <!-- iPhone 5 -->
    <link rel="apple-touch-startup-image" sizes="640x1096" href="images/splash/splash-screen%403x.png" />
    <!-- Page Title -->
    <title>CMPE 235 | Easy Grader</title>
    <!-- Stylesheet Load -->
    <link href="styles/style.css" rel="stylesheet" type="text/css">
    <link href="styles/framework-style.css" rel="stylesheet" type="text/css">
    <link href="styles/framework.css" rel="stylesheet" type="text/css">
    <link href="styles/bxslider.css" rel="stylesheet" type="text/css">
    <link href="styles/swipebox.css" rel="stylesheet" type="text/css">
    <link href="styles/icons.css" rel="stylesheet" type="text/css">
    <link href="styles/retina.css" rel="stylesheet" type="text/css" media="only screen and (-webkit-min-device-pixel-ratio: 2)" />
    <script src="scripts/jquery.min.js" type="text/javascript"></script>
    <script src="scripts/snap.js" type="text/javascript"></script>
    <script src="scripts/hammer.js" type="text/javascript"></script>
    <script src="scripts/jquery-ui-min.js" type="text/javascript"></script>
    <script src="scripts/subscribe.js" type="text/javascript"></script>
    <script src="scripts/contact.js" type="text/javascript"></script>
    <script src="scripts/jquery.swipebox.js" type="text/javascript"></script>
    <script src="scripts/bxslider.js" type="text/javascript"></script>
    <script src="scripts/colorbox.js" type="text/javascript"></script>
    <script src="scripts/retina.js" type="text/javascript"></script>
    <script src="scripts/custom.js" type="text/javascript"></script>
    <script src="scripts/framework.js" type="text/javascript"></script>
    <script>
    $(document).bind('mobileinit', function() {
        $.mobile.changePage.defaults.changeHash = false;
        $.mobile.hashListeningEnabled = false;
        $.mobile.pushStateEnabled = false;
    });
    </script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0/jquery.mobile.structure-1.4.0.min.css" />
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <style>
    body {
        font-family: 'Roboto', sans-serif;
    }
    </style>
    <script>
    $(document).on("pagebeforecreate", function() {

        $.getJSON("http://rubypals.com/cmpe235/phpcode/get_course.php", function(data) {
            var items = [];

            $.each(data, function(key, value) {
                $("#course").append("<a href='#' onclick='setCourseDetail(this)' class='dropdown-item bg-light' id='course" + value.ID + "' value='" + value.ID + "'>" + value.CourseName + "</a> ");
            });

            $("#course").append("<div class='dropdown-bottom-border'></div>");

            $(".dropdown-item").hide();
        });

    });

    function logout() {
        console.log("logout is called");
        sessionStorage.clear();
        window.location.href = "index.html";
    }

    function setCourseDetail(event) {

        $(event).parent().find('.dropdown-item').hide();
        $(event).parent().find('.dropdown-hidden').hide();

        $(event).parent().find('.dropdown-deploy').text(event.innerText);
        $(event).parent().find('.dropdown-deploy').show();

        var courseId = event.attributes.value.value;
        $("#CourseId").val(courseId);
        $("#courseId").val(courseId);

    };
    $(function() {
        var name = sessionStorage.getItem("xhrfromlogin");
        console.log("name:", name)
        $('#fromLoginUserName').val(name);
        if (!name) {
            window.location.href = "index.html";
        }
        $('#username').append(name);
        $('#gr').on('submit', function(e) {
            e.preventDefault();
            $.ajax({
                type: 'post',
                url: 'http://rubypals.com/phonegapstyle/phpcode/save_grade_setting.php',
                data: $('#gr').serialize(),
                success: function(data) {
                    console.log(data.status);
                    document.getElementById('gcSaveStatus').innerHTML = "Grade Settings Saved";
                }
            });

        });

    });
    // $(document).on("pagecreate", function(event) {

    //     $(".ui-btn").val("");

    // });
    </script>
</head>

<body>
    <div data-role="page" data-theme="f" style="background-color:#000;">
        <div data-role="header" data-position="inline">
            <h1 id='username'>Welcome&nbsp;</h1>
            <div data-role="navbar">
                <ul>
                    <li><a href="admin_home.html" rel="external" data-icon="home">Home</a></li>
                    <li><a href="admin_all_event.html" rel="external" data-icon="gear" class="ui-btn-active">All Event</a></li>
                    <li><a href="admin_my_event.html" rel="external" data-icon="check">My Events</a></li>
                </ul>
            </div>
        </div>
        <a href="index.html" rel="external" data-role="button" data-theme="a" data-icon="gear" style="color:#fff; width:30px; height:10px; margin-left:90%;" onclick="logout()"><span style="color:#000; font-size:8px;">Logout</span></a>
        <div data-role="content" data-theme="a" style="background-color:#000;">
            <h1 style="color:#fff;">Course</h1>
            <p style="color:#fff;"> Please select the Event number</p>
            <div class="dropdown-menu" id="course" style="background-color:#fff;">
                <a href="#" class="dropdown-deploy" style="background-color:#fff;"><em class="left-dropdown bg-dark"></em>Select Event Number</a>
                <a href="#" class="dropdown-hidden" style="background-color:#fff;"><em class="left-dropdown bg-dark"></em>Hide Event Number</a>
            </div>
            <div class="toggle-container-v4">
                <div class="toggle-v4">
                    <a href="#" class="show-toggle-v4" style="display: none;">Configuration Setting</a>
                    <a href="#" class="hide-toggle-v4" style="display: block;">Configuration Setting</a>
                    <div class="clear"></div>
                    <div class="toggle-content-v4" style="display: none;">
                        <div class="toggle-decoration-v4"></div>
                        <form id="gr" name="gr">
                            <input type="hidden" name="courseId" type="number" style="display: none;" id="courseId">
                            <div class="fieldcontain">
                                <div data-role="rangeslider" data-mini="true" data-highlight="true">
                                    <label for="range-4a">A:</label>
                                    <input type="range" name="ARangeStart" id="ARangeStart" min="0" max="100" value="0">
                                    <label for="range-4b">A:</label>
                                    <input type="range" name="ARangeEnd" id="ARangeEnd" min="0" max="100" value="100">
                                </div>
                            </div>
                            <div class="fieldcontain">
                                <div data-role="rangeslider" data-mini="true" data-highlight="true">
                                    <label for="range-4a">B:</label>
                                    <input type="range" name="BRangeStart" id="BRangeStart" min="0" max="100" value="0">
                                    <label for="range-4b">B:</label>
                                    <input type="range" name="BRangeEnd" id="BRangeEnd" min="0" max="100" value="100">
                                </div>
                            </div>
                            <div class="fieldcontain">
                                <div data-role="rangeslider" data-mini="true" data-highlight="true">
                                    <label for="range-4a">C:</label>
                                    <input type="range" name="CRangeStart" id="CRangeStart" min="0" max="100" value="0">
                                    <label for="range-4b">C</label>
                                    <input type="range" name="CRangeEnd" id="CRangeEnd" min="0" max="100" value="100">
                                </div>
                            </div>
                            <div class="fieldcontain">
                                <div data-role="rangeslider" data-mini="true" data-highlight="true">
                                    <label for="range-4a">D:</label>
                                    <input type="range" name="DRangeStart" id="DRangeStart" min="0" max="100" value="0">
                                    <label for="range-4b">D:</label>
                                    <input type="range" name="DRangeEnd" id="DRangeEnd" min="0" max="100" value="100">
                                </div>
                            </div>
                            <div class="fieldcontain">
                                <div data-role="rangeslider" data-mini="true" data-highlight="true">
                                    <label for="range-4a">F:</label>
                                    <input type="range" name="FRangeStart" id="FRangeStart" min="0" max="100" value="0">
                                    <label for="range-4b">F:</label>
                                    <input type="range" name="FRangeEnd" id="FRangeEnd" min="0" max="100" value="100">
                                </div>
                            </div>
                            \
                            <fieldset class="ui-grid-a">
                                <div class="ui-block-a">
                                    <button type="submit" data-theme="c">Save</button>
                                </div>
                                <div class="ui-block-b">
                                    <button type="reset" data-theme="f">Cancel</button>
                                </div>
                            </fieldset>
                        </form>
                        <div class="clear"></div>
                        <label id="gcSaveStatus" style="font:bold 20px; color:#000; margin-left:30%;"></label>
                    </div>
                </div>
            </div>
        </div>
        <p>
        </p>
    </div>
    </div>
</body>

</html>
